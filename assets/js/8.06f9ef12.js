(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{466:function(e,t,a){},469:function(e,t,a){"use strict";a(466)},470:function(e,t,a){"use strict";var n={name:"DhDatePicker",data:function(){return{time:"",startTime:this.startDate,endTime:this.endDate,startTimeConf:this.startTimeConfig(),endTimeConf:this.endTimeConfig()}},props:{startDate:{type:[String,Date]},endDate:{type:[String,Date]},plusTime:{type:Boolean,default:!1},pickerType:{type:String,default:"date"},mergeType:{type:String,default:"daterange"},dispaysType:{type:String,default:"one"},valueFormat:{type:String,default:"yyyy-MM-dd"},pickerOptions:{type:Object,default:function(){return{}}}},watch:{startDate:function(e){this.startTime=e,e||(this.time="")},endDate:function(e){this.endTime=e,e||(this.time="")}},computed:{initTime:function(){var e=[];return e[0]=this.startTime,e[1]=this.endTime,e}},mounted:function(){var e=[];e[0]=this.startTime,e[1]=this.endTime,this.time=e},methods:{startTimeConfig:function(){var e=this;return{disabledDate:function(t){if(e.endTime)return new Date(e.endTime).getTime()<=t.getTime()}}},endTimeConfig:function(){var e=this;return{disabledDate:function(t){if(e.startTime)return new Date(e.startTime).getTime()-864e5>=t.getTime()}}},startTimeChange:function(e){this.startTime=e,this.plusTime&&this.startTime&&this.startTime.length<11&&(this.startTime=this.startTime+" 00:00:00"),this.$emit("startChange",this.startTime)},endTimeChange:function(e){this.endTime=e,this.plusTime&&this.endTime&&this.endTime.length<11&&(this.endTime=this.endTime+" 23:59:59"),this.$emit("endChange",this.endTime)},timeChange:function(e){if(e){var t=e[0];this.plusTime&&t.length<11&&(t+=" 00:00:00"),this.$emit("startChange",t);var a=e[1];this.plusTime&&a.length<11&&(a+=" 23:59:59"),this.$emit("endChange",a)}else this.$emit("startChange",""),this.$emit("endChange","")}}},i=(a(469),a(35)),r=Object(i.a)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"t-date-picker"},["two"===e.dispaysType?a("div",{staticClass:"flex-box"},[a("el-date-picker",e._g(e._b({staticClass:"date-pick",attrs:{type:e.pickerType,size:"large","value-format":"yyyy-MM-dd","picker-options":e.startTimeConf,placeholder:"开始日期"},on:{change:e.startTimeChange},model:{value:e.startTime,callback:function(t){e.startTime=t},expression:"startTime"}},"el-date-picker",e.$attrs,!1),e.$listeners)),e._v(" "),a("div",{staticClass:"flex-box flex-ver",staticStyle:{padding:"0 5px"}},[e._v("-")]),e._v(" "),a("el-date-picker",e._g(e._b({staticClass:"date-pick",attrs:{type:e.pickerType,size:"large","value-format":"yyyy-MM-dd","picker-options":e.endTimeConf,placeholder:"结束日期"},on:{change:e.endTimeChange},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}},"el-date-picker",e.$attrs,!1),e.$listeners))],1):e._e(),e._v(" "),"one"===e.dispaysType?a("div",[a("el-date-picker",e._g(e._b({attrs:{type:e.mergeType,"range-separator":"至","value-format":e.valueFormat,"start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerOptions},on:{change:e.timeChange},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}},"el-date-picker",e.$attrs,!1),e.$listeners))],1):e._e()])}),[],!1,null,"27e6d07a",null);t.a=r.exports},506:function(e,t,a){},507:function(e,t,a){},550:function(e,t,a){"use strict";a(506)},551:function(e,t,a){"use strict";a(507)},583:function(e,t,a){"use strict";a.r(t);a(251),a(36),a(151);var n={name:"DhForm",components:{TDatePicker:a(470).a},props:{className:{type:String},formData:{type:Object,default:function(){return{}}},widthSize:{type:Number,default:2},rules:{type:Object,default:function(){return{}}},labelWidth:{type:String,default:"120px"},fieldList:{type:Array,default:function(){return[]}},isOperator:{type:Boolean,default:!0},operatorList:{type:Array,default:function(){return[]}},refObj:{type:Object},listTypeInfo:{type:Object,default:function(){return{}}}},computed:{compChildName:function(){return function(e){switch(e.type){case"checkbox":return"el-checkbox";case"select-arr":case"select-obj":return"el-option"}}},getConfigList:function(){return this.fieldList.filter((function(e){return!e.hasOwnProperty("show")||e.hasOwnProperty("show")&&e.show}))},getOperatorList:function(){return this.operatorList.filter((function(e){return!e.hasOwnProperty("show")||e.hasOwnProperty("show")&&e.show}))}},data:function(){return{}},watch:{formData:{handler:function(e){this.$emit("update:refObj",this.$refs.form)},deep:!0}},mounted:function(){this.$emit("update:refObj",this.$refs.form)},methods:{getPlaceholder:function(e){return["input","textarea"].includes(e.type)?"请输入"+e.label:["select-arr","time","select-obj","date","t-date"].includes(e.type)?"请选择"+e.label:e.label},handleEvent:function(e,t,a){this.$emit("handleEvent",e,t,a)}}},i=(a(550),a(35)),r={name:"formData",components:{DhForm:Object(i.a)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",e._g(e._b({ref:"form",staticClass:"dh-form",class:e.className,attrs:{model:e.formData,rules:e.rules,"label-width":e.labelWidth}},"el-form",e.$attrs,!1),e.$listeners),[e._l(e.getConfigList,(function(t,n){return a("el-form-item",e._g(e._b({key:n,class:t.className,style:{width:100/(t.widthSize||e.widthSize)+"%"},attrs:{prop:t.value,label:t.label,rules:t.rules}},"el-form-item",e.$attrs,!1),e.$listeners),[a(t.comp,e._b({tag:"component",staticStyle:{width:"100%"},attrs:{type:"date"===t.type?t.dateType:t.type,disabled:t.disabled,clearable:!1!==t.clearable||t.clearable,filterable:!1!==t.filterable||t.filterable,"picker-options":t.TimePickerOptions,"value-format":t.format||"yyyy-MM-dd",startDate:e.formData[t.startDate],endDate:e.formData[t.endDate],plusTime:!1!==t.plusTime||t.plusTime,placeholder:e.getPlaceholder(t),autosize:t.autosize||{minRows:2,maxRows:10},min:t.min,max:t.max},on:{focus:function(e){return e.target.select()},startChange:function(a){return e.handleEvent(t.event,a,t.startDate)},endChange:function(a){return e.handleEvent(t.event,a,t.endDate)},change:function(a){return e.handleEvent(t.event,e.formData[t.value])}},scopedSlots:e._u([t.prepend?{key:"prepend",fn:function(){return[e._v(e._s(t.prepend))]},proxy:!0}:null,t.append?{key:"append",fn:function(){return[e._v(e._s(t.append))]},proxy:!0}:null],null,!0),model:{value:e.formData[t.value],callback:function(a){e.$set(e.formData,t.value,a)},expression:"formData[item.value]"}},"component",t.bind,!1),[e._v(" "),e._v(" "),e._l(e.listTypeInfo[t.list],(function(n,i,r){return a(e.compChildName(t),{key:r,tag:"component",attrs:{disabled:n.disabled,label:"select-obj"===t.type?n:"checkbox"===t.type?n.value:n[t.arrLabel],value:"select-obj"===t.type?i:"checkbox"===t.type?n.value:n[t.arrKey]}},[e._v(e._s("checkbox"===t.type?n.label:""))])}))],2)],1)})),e._v(" "),e.isOperator?a("div",{staticClass:"flex-box flex-ver t-margin-top-5"},e._l(e.getOperatorList,(function(t){return a("el-button",{key:t.label,attrs:{type:t.type,icon:t.icon,size:t.size||"medium"},on:{click:function(e){return t.fun(t)}}},[e._v(e._s(t.label))])})),1):e._e()],2)}),[],!1,null,null,null).exports},data:function(){return{formInfo:{ref:null,formData:{id:"",account:"",password:"",name:"",sex:"",hobby:[],phone:"",createDate:"",startDate:"",endDate:"",wechat:"",qq:"",accountType:"",email:"",desc:"",number:"",status:""},fieldList:[{label:"账号",value:"account",type:"input",comp:"el-input",event:"account"},{label:"密码",value:"password",type:"password",comp:"el-input"},{label:"昵称",value:"name",type:"input",comp:"el-input"},{label:"性别",value:"sex",type:"select-arr",comp:"el-select",list:"sexList",arrLabel:"key",arrKey:"value"},{label:"平台用户",value:"accountType",type:"select-obj",comp:"el-select",list:"accountTypeList"},{label:"状态",value:"status",type:"select-arr",list:"statusList",comp:"el-select",arrLabel:"key",arrKey:"value"},{label:"爱好",value:"hobby",type:"checkbox",comp:"el-checkbox-group",list:"hobbyList",event:"checkbox"},{label:"手机号码",value:"phone",type:"input",comp:"el-input"},{label:"创建时间",value:"createDate",type:"date",dateType:"year",comp:"el-date-picker",format:"yyyy"},{label:"时间范围",startDate:"startDate",endDate:"endDate",type:"date",comp:"t-date-picker",event:"date"},{label:"微信",value:"wechat",type:"input",comp:"el-input"},{label:"QQ",value:"qq",type:"input",comp:"el-input"},{label:"邮箱",value:"email",type:"input",comp:"el-input"},{label:"计数器",value:"number",type:"inputNumber",bind:{controls:!1},comp:"el-input-number"},{label:"描述",value:"desc",type:"textarea",comp:"el-input",className:"t-form-block"}],rules:{account:[{required:!0,message:"请输入账号",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],name:[{required:!0,message:"请输入昵称",trigger:"blur"}],phone:[{required:!0,message:"请输入手机号码",trigger:"blur"}],sex:[{required:!0,message:"请选择性别",trigger:"change"}],hobby:[{type:"array",required:!0,message:"请至少选择一个爱好",trigger:"change"}]},operatorList:[{label:"提交",type:"danger",fun:this.submitForm},{label:"重置",type:"primary",fun:this.resetForm}]},listTypeInfo:{hobbyList:[{label:"吉他",value:"0"},{label:"看书",value:"1"},{label:"美剧",value:"2"},{label:"旅游",value:"3"},{label:"音乐",value:"4"}],sexList:[{key:"女",value:1},{key:"男",value:0}],accountTypeList:{0:"手机用户",1:"论坛用户",2:"平台用户"},statusList:[{key:"启用",value:1},{key:"停用",value:0}]}}},methods:{handleEvent:function(e,t,a){switch(e){case"date":console.log(1111111,t,e,a),this.formInfo.formData[a]=t;break;case"checkbox":console.log(2222,t,e,a)}},submitForm:function(){var e=this;this.formInfo.ref.validate((function(t){console.log(88,t),console.log(77,e.formInfo.formData),t&&console.log(999,e.formInfo.formData)}))},resetForm:function(){Object.assign(this.$data.formInfo.formData,this.$options.data().formInfo.formData)}}},s=(a(551),Object(i.a)(r,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-data"},[a("dh-form",{attrs:{"ref-obj":e.formInfo.ref,"form-data":e.formInfo.formData,"field-list":e.formInfo.fieldList,rules:e.formInfo.rules,widthSize:2,"operator-list":e.formInfo.operatorList,"list-type-info":e.listTypeInfo},on:{"update:refObj":function(t){return e.$set(e.formInfo,"ref",t)},"update:ref-obj":function(t){return e.$set(e.formInfo,"ref",t)},handleEvent:e.handleEvent}})],1)}),[],!1,null,null,null));t.default=s.exports}}]);